<!DOCTYPE html>
<html>
<head>
	<title>The Elephant and the Top Hat</title>

	<!--Bulma CSS Link-->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.css">
  <script src="https://use.fontawesome.com/9639f71805.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>

<div class="tabs is-right">
  <ul>
    <li class="is-active"><a href="/"><i class="fa fa-home" aria-hidden="true"></i></a></li>
    <li><a href="/api/tables">See WaitList</a></li>
  </ul>
</div>

<section class="hero is-primary">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
       	Make your reservation
      </h1>
      <h2 class="subtitle">
        Please fill out your information and you will be seated shortly!
      </h2>
    </div>
  </div>
</section>
<br><br>
<!--left column-->
<div class="columns">
  <div class="column">
  </div>

<!--Page Content Column-->
  <div class="column is-three-quarters">
<div class="field">
  <label class="label">Full Name</label>
  <p class="control">
    <input class="input is-primary" id="name" type="text" placeholder="Full Name">
  </p>
</div>

<div class="field">
  <label class="label">Phone Number</label>
  <p class="control">
    <input class="input is-primary" id="phone" type="text" placeholder="Phone Number">
  </p>
</div>

<div class="field">
  <label class="label">Email</label>
  <p class="control">
    <input class="input is-primary" id="email" type="text" placeholder="Email">
  </p>
</div>

<!--Submit Button-->
<p class="control">
	<button class="button is-primary is-large" id="Reservation">Finalize Reservation</button>
</p>
  </div>

<!-- Right Column-->
  <div class="column">
  </div>
</div>
</body>
</html>



   <script type="text/javascript">
    $("#Reservation").on("click", function(event) {
      event.preventDefault();

      if ($(currentTables.open) === false){
      var newReservation = {
        bookedby: $("#name").val().trim(),
        id: $("#id").val().trim(),
        booked: true
      };
      // Question: What does this code do??
      $.post("/api/tables", newReservation)
      .done(function(data) {
        console.log(data);
        alert("Adding character...");
      });
    }
    else {
      var newWaitlist = {
        bookedby: $("#name").val().trim(),
        id: $("#id").val().trim(),
        booked: true
      };

      $.post("/api/tables", newWaitlist)
      .done(function(data) {
        console.log(data);
        alert("Adding character...");
      });
    }
}



    </script>